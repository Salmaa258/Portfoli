<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c2{-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:19pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c3{background-color:#ffffff;padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{color:#0000ff;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c4{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c6"><p class="c5"><span class="c2">Instal&middot;laci&oacute; RAID amb sistema operatiu </span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">La pr&agrave;ctica es far&agrave; amb una m&agrave;quina Debian nova amb 2GiB de RAM.</span></p><p class="c3"><span class="c1">La m&agrave;quina tindr&agrave; en total 4 discos de 20 GiB cadasc&uacute;.</span></p><p class="c3"><span class="c1">Hem de crear un RAID10 durant la instal&middot;laci&oacute; del sistema operatiu i, a sobre d&#39;ell, un LVM amb els seg&uuml;ents par&agrave;metres:</span></p><p class="c3"><span class="c1">- / de 10GiB</span></p><p class="c3"><span class="c1">- /home de 5GiB</span></p><p class="c3"><span class="c1">- swap de 1GiB</span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">* Tingues en compte que el RAID s&#39;haur&agrave; de fer amb les particions /dev/sda1, /dev/sdb1, /dev/sdc1, /dev/sdd1 per preservar espai per al MBR.</span></p><p class="c3"><span class="c1">* S&#39;haur&agrave; de copiar el MBR a tots els discos.</span></p><hr style="page-break-before:always;display:none;"><p class="c5 c4"><span class="c1"></span></p><p class="c3"><span class="c1">1. Durant la instal&middot;laci&oacute;, fes una captura de pantalla quan tinguis fetes les particions, el RAID i el LVM.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 500.50px; height: 328.42px;"><img alt="" src="images/image1.png" style="width: 500.50px; height: 328.42px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 500.50px; height: 367.88px;"><img alt="" src="images/image8.png" style="width: 500.50px; height: 367.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">2. Un cop instal&middot;lat, mostra las sortides de les seg&uuml;ents comandes:</span></p><p class="c3"><span class="c0">lsblk</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 430.50px; height: 413.52px;"><img alt="" src="images/image9.png" style="width: 430.50px; height: 413.52px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">cat /proc/mdstat</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px 0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 543.39px; height: 108.68px;"><img alt="" src="images/image12.png" style="width: 543.39px; height: 108.68px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">df -h</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 495.54px; height: 154.64px;"><img alt="" src="images/image13.png" style="width: 495.54px; height: 154.64px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">3. Apaguem la m&agrave;quina i treiem el primer disc. Arrenca la m&agrave;quina? Explica per qu&egrave;.</span></p><p class="c3"><span class="c0">No arranca ja que li vam posar el sistema d&#39;arrencada al primer disc, i aquest &eacute;s el que hem tret. Per a que arrenqui, hem de executar la seg&uuml;ent comanda: &ldquo;sudo dd if=/dev/sda of=/dev/sdb&rdquo;. Aix&ograve; fa que el sistema d&rsquo;arrencada es copii en el segon disc.</span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">4. Torna a posar el resultat de les comandes:</span></p><p class="c3"><span class="c1">lsblk</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 393.50px; height: 319.82px;"><img alt="" src="images/image6.png" style="width: 393.50px; height: 319.82px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">cat /proc/mdstat</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 503.50px; height: 102.87px;"><img alt="" src="images/image7.png" style="width: 503.50px; height: 102.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><hr style="page-break-before:always;display:none;"><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">df -h</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 467.42px; height: 143.10px;"><img alt="" src="images/image14.png" style="width: 467.42px; height: 143.10px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">sudo fdisk -l /dev/md0</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 503.50px; height: 112.96px;"><img alt="" src="images/image5.png" style="width: 503.50px; height: 112.96px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">5. Torna a apagar i posa un disc nou de 20GiB i arrenca. Qu&egrave; has de fer perqu&egrave; arrenqui tenint el nou disc?</span></p><p class="c3"><span class="c0">Afegim el nou disc al final de la cua de discos, aix&iacute; detecta el primer disc per poder arrencar tranquilament.</span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">6. El disc que has afegit s&#39;ha incl&ograve;s autom&agrave;ticament al RAID10? Mostra-ho.</span></p><p class="c3"><span class="c0">No, s&rsquo;ha d&rsquo;incloure manualment.</span></p><p class="c3"><span class="c1">En cas negatiu, inclou el nou disc al RAID10. </span></p><p class="c3"><span class="c1">Posa les captures de pantalla del qu&egrave; has fet per aconseguir-lo. (Inclou el contingut de /proc/mdstat).</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 380.50px; height: 49.86px;"><img alt="" src="images/image3.png" style="width: 380.50px; height: 49.86px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 523.50px; height: 131.31px;"><img alt="" src="images/image10.png" style="width: 523.50px; height: 131.31px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">7. Apaga la m&agrave;quina i torna a posar el primer disc que has tret. El RAID10 utilitza aquest disc? Mostra el seu estat dins del RAID10.</span></p><p class="c3"><span class="c0">No est&agrave; dins del RAID10. Ho demostrem amb lsblk.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 351.50px; height: 311.30px;"><img alt="" src="images/image2.png" style="width: 351.50px; height: 311.30px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c4"><span class="c1"></span></p><p class="c3"><span class="c1">8. For&ccedil;a per software una fallada al primer disc. Mostra com reacciona el sistema segons la sortida de /proc/mdstat. Explica qu&egrave; est&agrave; passant.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 541.50px; height: 148.42px;"><img alt="" src="images/image4.png" style="width: 541.50px; height: 148.42px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">Ara nom&eacute;s hi ha 3 discos actius dins la RAID.</span></p><p class="c3"><span class="c1">9. Reinicia l&#39;ordinador i prova que tot funciona correctament.</span></p><p class="c3"><span class="c1">Amplia /home amb 2GiB m&eacute;s. Mostra com ho has fet i quin resultat has obtingut.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: -0.00px 0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 78.67px;"><img alt="" src="images/image11.png" style="width: 601.70px; height: 78.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4 c5"><span class="c1"></span></p></body></html>